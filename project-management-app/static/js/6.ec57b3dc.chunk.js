"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[6],{5006:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(1413),i=t(2791),s=t(7689),l=t(9434),o=t(2606),c=t(7205),a=t(1647),d=t(1508),u=t(885),m=t(3896),h=t(383),f=t(3811),x=t(8821),j=t(6928),Z=t(4414),v=t(2302),_=t(3834),p=t(3584),k=t(184);function b(e){var n=e.task,t=(e.column,(0,p.T)());return(0,k.jsx)("div",{className:"task",children:(0,k.jsxs)("div",{className:"task__content",children:[(0,k.jsx)("h3",{className:"task__title",onClick:function(){!function(e){t((0,v.ZQ)(e))}(n)},children:n.title}),(0,k.jsx)(f.Z,{onClick:function(){return function(e){t((0,v.vL)(e))}(n)},children:(0,k.jsx)(h.Z,{})})]})})}var C=t(5766),g=i.forwardRef((function(e,n){return(0,k.jsx)(d.Z,(0,r.Z)({elevation:6,ref:n,variant:"filled"},e))}));var T=function(e){var n=e.column,t=(0,p.T)(),r=(0,l.v9)((function(e){return e.tasks})),i=r.tasksArr,s=r.hasError,o=r.message;return(0,k.jsxs)("section",{className:"task-list",children:[(0,k.jsx)("section",{className:"task-list__items",children:i.filter((function(e){return e.columnId===n._id})).map((function(e){return(0,k.jsx)(b,{task:e,column:n},e._id)}))}),(0,k.jsx)(a.Z,{open:!!o,autoHideDuration:5e3,onClose:function(){return t((0,C.PJ)(""))},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,k.jsx)(g,{onClose:function(){return t((0,C.PJ)(""))},severity:s?"error":"success",sx:{width:"100%",fontSize:"1rem"},children:o})},"bottomright")]})};function w(e){var n=e.column,t=(0,i.useState)(!1),l=(0,u.Z)(t,2),a=l[0],d=l[1],b=(0,p.T)(),C=(0,s.UO)().id,g=(0,m.cI)(),w=g.register,N=g.formState.errors,I=g.handleSubmit,L=g.reset,S=I((function(e){y(e)})),y=function(e){var t="/boards/".concat(C,"/columns/").concat(n._id);b((0,_.Gw)({url:t,title:e.title,order:n.order})),d(!1)};return(0,k.jsxs)("div",{className:"column",children:[(0,k.jsx)("div",{className:"column__header",children:a?(0,k.jsx)("div",{children:(0,k.jsxs)("form",{className:"column__header--edit-mode",onSubmit:S,children:[(0,k.jsx)(x.Z,(0,r.Z)((0,r.Z)({className:"column__header__input",defaultValue:n.title},w("title",{required:"This field is required.",minLength:{value:4,message:"This field should be more than 4 symbols"}})),{},{error:!!N.title,size:"small"})),N.title&&(0,k.jsx)("p",{className:"column__error-message",children:N.title.message}),(0,k.jsx)(c.Z,{type:"submit",style:{minWidth:"1rem"},autoFocus:!0,children:(0,k.jsx)(j.Z,{})}),(0,k.jsx)(c.Z,{style:{minWidth:"1rem"},onClick:function(){d(!1),L()},children:(0,k.jsx)(Z.Z,{})})]})}):(0,k.jsxs)("div",{className:"column__header--read-mode",children:[(0,k.jsx)("h3",{className:"column__title",onClick:function(){d(!0)},children:n.title}),(0,k.jsx)(f.Z,{onClick:function(){return e=n._id,b((0,v.zh)(!0)),void b((0,_.IC)(e));var e},children:(0,k.jsx)(h.Z,{})})]})}),(0,k.jsx)(T,{column:n}),(0,k.jsx)(c.Z,{variant:"contained",onClick:function(){return b((0,v.L8)(n._id))},children:(0,k.jsx)(o.Z,{id:"add_task"})})]})}var N=t(6897),I=t(788),L=t(7323),S=t(8440),y=t(464);function M(e){var n=e.url,t=(0,p.T)(),i=(0,l.v9)((function(e){return e.columns})).columnsArr,s=(0,l.v9)((function(e){return e.modalPopup})).showModalCreateColumn,a=(0,m.cI)(),d=a.register,u=a.formState.errors,h=(0,a.handleSubmit)((function(e){f(e)})),f=function(e){t((0,_.wy)({url:n,title:e.title,order:i.length})),t((0,v.m2)(!1))};return(0,k.jsx)("div",{children:(0,k.jsxs)(I.Z,{open:s,onClose:function(){return t((0,v.m2)(!1))},children:[(0,k.jsx)(y.Z,{children:(0,k.jsx)(o.Z,{id:"create_column"})}),(0,k.jsxs)("form",{className:"createColumn__form",onSubmit:h,children:[(0,k.jsx)(S.Z,{sx:{width:"20rem"},children:(0,k.jsx)(x.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,id:"outlined-basic",label:"Column title",variant:"outlined"},d("title",{required:"This field is required.",minLength:{value:4,message:"This field should be more than 4 symbols"}})),{},{helperText:u.title&&u.title.message,error:!!u.title}))}),(0,k.jsxs)(L.Z,{children:[(0,k.jsx)(c.Z,{type:"submit",children:(0,k.jsx)(o.Z,{id:"submit"})}),(0,k.jsx)(c.Z,{onClick:function(){return t((0,v.m2)(!1))},children:(0,k.jsx)(o.Z,{id:"cancel"})})]})]})]})})}var z=t(6015);function q(e){var n=e.url,t=(0,p.T)(),r=(0,l.v9)((function(e){return e.modalPopup})).showModalDeleteColumn;return(0,k.jsx)("div",{children:(0,k.jsxs)(I.Z,{open:r,onClose:function(){return t((0,v.zh)(!1))},children:[(0,k.jsx)(y.Z,{children:(0,k.jsx)(o.Z,{id:"want_to_delete_col"})}),(0,k.jsx)(S.Z,{children:(0,k.jsx)(z.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off"})}),(0,k.jsxs)(L.Z,{children:[(0,k.jsx)(c.Z,{onClick:function(e){return function(e){e.preventDefault(),t((0,_.eA)(n)),t((0,v.zh)(!1))}(e)},children:(0,k.jsx)(o.Z,{id:"confirm"})}),(0,k.jsx)(c.Z,{onClick:function(){return t((0,v.zh)(!1))},children:(0,k.jsx)(o.Z,{id:"cancel"})})]})]})})}function D(e){var n=e.boardId,t=e.colId,i="/boards/".concat(n,"/columns/").concat(t,"/tasks"),s=(0,p.T)(),a=(0,l.v9)((function(e){return e.tasks})).tasksArr,d=(0,l.v9)((function(e){return e.modalPopup})).showModalCreateTask,u=(0,m.cI)(),h=u.register,f=u.formState.errors,j=(0,u.handleSubmit)((function(e){Z(e)})),Z=function(e){s((0,C.vr)({url:i,title:e.title,order:a.length,description:e.description,userId:1,users:[]})),s((0,v.L8)(""))};return(0,k.jsx)("div",{children:(0,k.jsxs)(I.Z,{open:""!==d,onClose:function(){return s((0,v.L8)(""))},children:[(0,k.jsx)(y.Z,{children:(0,k.jsx)(o.Z,{id:"create_task"})}),(0,k.jsxs)("form",{className:"create-task__form",onSubmit:j,children:[(0,k.jsxs)(S.Z,{sx:{width:"20rem"},children:[(0,k.jsx)(x.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,id:"task-title",label:"Task title",variant:"outlined"},h("title",{required:"This field is required.",minLength:{value:4,message:"This field should be more than 4 symbols"}})),{},{helperText:f.title&&f.title.message,error:!!f.title})),(0,k.jsx)(x.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,id:"task-description",label:"Description",variant:"outlined"},h("description",{required:"This field is required.",minLength:{value:4,message:"This field should be more than 4 symbols"}})),{},{helperText:f.title&&f.title.message,error:!!f.title}))]}),(0,k.jsxs)(L.Z,{children:[(0,k.jsx)(c.Z,{type:"submit",children:(0,k.jsx)(o.Z,{id:"submit"})}),(0,k.jsx)(c.Z,{onClick:function(){return s((0,v.L8)(""))},children:(0,k.jsx)(o.Z,{id:"cancel"})})]})]})]})})}function P(e){var n=e.url,t=e.task,i=(0,p.T)(),s=t,l=(0,m.cI)(),a=l.register,d=l.formState.errors,u=(0,l.handleSubmit)((function(e){h(e)})),h=function(e){i((0,C.xJ)({url:n,title:e.title,order:s.order,description:e.description,columnId:s.columnId,userId:1,users:[],_id:s._id,taskId:"",boardId:""})),i((0,v.ZQ)(null))};return(0,k.jsx)("div",{children:(0,k.jsx)(I.Z,{open:null!==s,onClose:function(){return i((0,v.ZQ)(null))},className:"modal-task",children:(0,k.jsxs)("form",{className:"create-task__form",onSubmit:u,children:[(0,k.jsxs)(S.Z,{sx:{width:"20rem"},children:[(0,k.jsx)(x.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,sx:{display:"block",mb:"1rem"},id:"standard-basic",label:"Task title",variant:"outlined",defaultValue:s.title,className:"modal-task__title"},a("title",{required:"This field is required.",minLength:{value:5,message:"This field should be more than 5 symbols"}})),{},{helperText:d.title&&d.title.message,error:!!d.title})),(0,k.jsx)(x.Z,(0,r.Z)({fullWidth:!0,defaultValue:s.description,id:"outlined-multiline-static",label:"Description",multiline:!0,className:"modal-task__description"},a("description")))]}),(0,k.jsxs)(L.Z,{children:[(0,k.jsx)(c.Z,{type:"submit",children:(0,k.jsx)(o.Z,{id:"confirm"})}),(0,k.jsx)(c.Z,{onClick:function(){return i((0,v.ZQ)(null))},children:(0,k.jsx)(o.Z,{id:"cancel"})})]})]})})})}function A(e){var n=e.url,t=(0,p.T)(),r=(0,l.v9)((function(e){return e.modalPopup})).showModalDeleteTask;return(0,k.jsx)("div",{children:(0,k.jsxs)(I.Z,{open:null!==r,onClose:function(){return t((0,v.vL)(null))},children:[(0,k.jsx)(y.Z,{children:(0,k.jsx)(o.Z,{id:"want_to_delete_task"})}),(0,k.jsx)(S.Z,{children:(0,k.jsx)(z.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off"})}),(0,k.jsxs)(L.Z,{children:[(0,k.jsx)(c.Z,{onClick:function(e){return function(e){e.preventDefault(),t((0,C._5)(n)),t((0,v.vL)(null))}(e)},children:(0,k.jsx)(o.Z,{id:"confirm"})}),(0,k.jsx)(c.Z,{onClick:function(){return t((0,v.vL)(null))},children:(0,k.jsx)(o.Z,{id:"cancel"})})]})]})})}var W=i.forwardRef((function(e,n){return(0,k.jsx)(d.Z,(0,r.Z)({elevation:6,ref:n,variant:"filled"},e))}));var O=function(){var e=(0,p.T)(),n=(0,l.v9)((function(e){return e.modalPopup})),t=n.showModalCreateColumn,r=n.showModalDeleteColumn,d=n.showModalCreateTask,u=n.showModalDeleteTask,m=n.taskCreation,h=(0,l.v9)((function(e){return e.columns})),f=h.columnsArr,x=h.currentColumnId,j=h.isLoading,Z=h.hasError,b=h.message,g=(0,l.v9)((function(e){return e.boards})).boardsArr,T=(0,s.UO)().id,I="/boards/".concat(T,"/columns"),L=g.filter((function(e){return e._id===T})).map((function(e){return e.title})),S=(0,s.s0)();return(0,i.useEffect)((function(){e((0,_.Pu)(I)),e((0,C.Ak)("/tasksSet/".concat(T)))}),[]),(0,k.jsxs)("section",{className:"board",children:[(0,k.jsxs)("div",{className:"board__header",children:[(0,k.jsxs)("h1",{className:"board__title",children:[(0,k.jsx)(o.Z,{id:"board_page"})," ",L]}),(0,k.jsx)(c.Z,{variant:"contained",onClick:function(){return e((0,v.m2)(!0))},children:(0,k.jsx)(o.Z,{id:"add_column"})}),(0,k.jsx)(c.Z,{variant:"outlined",sx:{marginLeft:"1rem"},onClick:function(){return S("/board/")},children:(0,k.jsx)(o.Z,{id:"back"})})]}),(0,k.jsx)("section",{className:"board__columns",children:j?(0,k.jsx)(N.Z,{}):f.map((function(e){return(0,k.jsx)(w,{column:e},e._id)}))}),t&&(0,k.jsx)(M,{url:I}),r&&(0,k.jsx)(q,{url:"".concat(I,"/").concat(x)}),d&&(0,k.jsx)(D,{boardId:T,colId:d}),m&&(0,k.jsx)(P,{task:m,url:"".concat(I,"/").concat(m.columnId,"/tasks/").concat(m._id)}),u&&(0,k.jsx)(A,{url:"".concat(I,"/").concat(u.columnId,"/tasks/").concat(u._id)}),(0,k.jsx)(a.Z,{open:!!b,autoHideDuration:5e3,onClose:function(){return e((0,_.PJ)(""))},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,k.jsx)(W,{onClose:function(){return e((0,_.PJ)(""))},severity:Z?"error":"success",sx:{width:"100%",fontSize:"1rem"},children:b})},"bottomright")]})}},6928:function(e,n,t){var r=t(4836);n.Z=void 0;var i=r(t(5649)),s=t(184),l=(0,i.default)((0,s.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckOutlined");n.Z=l},4414:function(e,n,t){var r=t(4836);n.Z=void 0;var i=r(t(5649)),s=t(184),l=(0,i.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined");n.Z=l}}]);
//# sourceMappingURL=6.ec57b3dc.chunk.js.map