"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[725],{9725:function(e,r,i){i.r(r),i.d(r,{default:function(){return L}});var t=i(1413),n=i(2791),o=i(9434),a=i(2606),s=i(1647),d=i(1508),l=i(7689),c=i(3811),u=i(383),h=i(1286),f=i(2302),b=i(7260),x=i(3584),m=i(184);function p(e){var r=e.board,i=(0,x.T)(),t=(0,l.s0)();return(0,m.jsxs)("div",{className:"boardItem",onClick:function(){return t("/board/".concat(r._id))},children:[(0,m.jsx)("h3",{className:"boardItem__title",children:r.title}),(0,m.jsx)("p",{className:"boardItem__description",children:r.description}),(0,m.jsxs)("div",{className:"boardItem__buttonsWrapper",children:[(0,m.jsx)(c.Z,{sx:{zIndex:"10"},onClick:function(e){var t;e.stopPropagation(),t=r._id,i((0,f.Tb)(!0)),i((0,b.ve)(t))},children:(0,m.jsx)(u.Z,{})}),(0,m.jsx)(c.Z,{onClick:function(e){var t;e.stopPropagation(),t=r._id,i((0,f.Hi)(!0)),i((0,b.ve)(t)),i((0,b.Ub)(r.title)),i((0,b.P3)(r.description))},children:(0,m.jsx)(h.Z,{})})]})]})}function j(e){try{if(3!==e.split(".").length||"string"!==typeof e)return null;var r=e.split(".")[1],i="=".repeat((4-r.length%4)%4),t=r.replace("-","+").replace("_","/")+i,n=decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}catch(o){return null}}var Z=i(3896),v=i(8821),_=i(788),T=i(7323),g=i(8440),w=i(464),C=i(7205);function B(e){var r=e.url,i=(0,x.T)(),n=(0,o.v9)((function(e){return e.modalPopup})).showModalCreateBoard,s=(0,Z.cI)(),d=s.register,l=s.formState.errors,c=(0,s.handleSubmit)((function(e){u(e)})),u=function(e){var t=localStorage.getItem("jwt"),n="";if(t){var o=j(t);n=o?o.id:""}i((0,b.aX)({url:r,title:e.boardTitle,description:e.boardDescription,owner:n,users:[n]})),i((0,f.be)(!1))};return(0,m.jsx)("div",{children:(0,m.jsxs)(_.Z,{open:n,onClose:function(){return i((0,f.be)(!1))},children:[(0,m.jsx)(w.Z,{children:(0,m.jsx)(a.Z,{id:"crate_board"})}),(0,m.jsxs)("form",{className:"createBoard__form",onSubmit:c,children:[(0,m.jsxs)(g.Z,{sx:{width:"25rem"},children:[(0,m.jsx)(v.Z,(0,t.Z)((0,t.Z)({fullWidth:!0,sx:{display:"block",mb:"1rem"},id:"outlined-basic",label:"Board title",variant:"outlined"},d("boardTitle",{required:"This field is required.",minLength:{value:5,message:"This field should be more than 5 symbols"}})),{},{helperText:l.boardTitle&&l.boardTitle.message,error:!!l.boardTitle})),(0,m.jsx)(v.Z,(0,t.Z)({fullWidth:!0,id:"outlined-basic",label:"Board description",variant:"outlined"},d("boardDescription")))]}),(0,m.jsxs)(T.Z,{children:[(0,m.jsx)(C.Z,{type:"submit",children:(0,m.jsx)(a.Z,{id:"submit"})}),(0,m.jsx)(C.Z,{onClick:function(){return i((0,f.be)(!1))},children:(0,m.jsx)(a.Z,{id:"cancel"})})]})]})]})})}function k(e){var r=e.url,i=(0,o.v9)((function(e){return e.boards})),n=i.currentBoardTitle,s=i.currentBoardDescription,d=(0,x.T)(),l=(0,o.v9)((function(e){return e.modalPopup})).showModalUpdateBoard,c=(0,Z.cI)(),u=c.register,h=c.formState.errors,p=(0,c.handleSubmit)((function(e){B(e)})),B=function(e){var i=localStorage.getItem("jwt"),t="";if(i){var n=j(i);t=n?n.id:""}d((0,b.wN)({url:r,title:e.boardTitle,description:e.boardDescription,owner:t,users:[t]})),d((0,f.Hi)(!1))};return(0,m.jsx)("div",{children:(0,m.jsxs)(_.Z,{open:l,onClose:function(){return d((0,f.Hi)(!1))},children:[(0,m.jsx)(w.Z,{children:(0,m.jsx)(a.Z,{id:"update_board"})}),(0,m.jsxs)("form",{className:"updateBoard__form",onSubmit:p,children:[(0,m.jsxs)(g.Z,{sx:{width:"25rem"},children:[(0,m.jsx)(v.Z,(0,t.Z)((0,t.Z)({fullWidth:!0,sx:{display:"block",mb:"1rem"},id:"outlined-basic",label:"Board title",variant:"outlined",defaultValue:n},u("boardTitle",{required:"This field is required.",minLength:{value:5,message:"This field should be more than 5 symbols"}})),{},{helperText:h.boardTitle&&h.boardTitle.message,error:!!h.boardTitle})),(0,m.jsx)(v.Z,(0,t.Z)({fullWidth:!0,defaultValue:s,id:"outlined-basic",label:"Board description",variant:"outlined"},u("boardDescription")))]}),(0,m.jsxs)(T.Z,{children:[(0,m.jsx)(C.Z,{type:"submit",children:(0,m.jsx)(a.Z,{id:"confirm"})}),(0,m.jsx)(C.Z,{onClick:function(){return d((0,f.Hi)(!1))},children:(0,m.jsx)(a.Z,{id:"cancel"})})]})]})]})})}var I=i(6015);function N(e){var r=e.url,i=(0,x.T)(),t=(0,o.v9)((function(e){return e.modalPopup})).showModalDeleteBoard;return(0,m.jsx)("div",{children:(0,m.jsxs)(_.Z,{open:t,onClose:function(){return i((0,f.Tb)(!1))},children:[(0,m.jsx)(w.Z,{children:(0,m.jsx)(a.Z,{id:"want_to_delete_board"})}),(0,m.jsx)(g.Z,{children:(0,m.jsx)(I.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off"})}),(0,m.jsxs)(T.Z,{children:[(0,m.jsx)(C.Z,{onClick:function(e){return function(e){e.preventDefault(),i((0,b.L1)(r)),i((0,f.Tb)(!1))}(e)},children:(0,m.jsx)(a.Z,{id:"confirm"})}),(0,m.jsx)(C.Z,{onClick:function(){return i((0,f.Tb)(!1))},children:(0,m.jsx)(a.Z,{id:"cancel"})})]})]})})}var S=i(6897),D=n.forwardRef((function(e,r){return(0,m.jsx)(d.Z,(0,t.Z)({elevation:6,ref:r,variant:"filled"},e))}));var L=function(){var e=(0,x.T)(),r=(0,o.v9)((function(e){return e.modalPopup})),i=r.showModalCreateBoard,t=r.showModalDeleteBoard,d=r.showModalUpdateBoard,l=(0,o.v9)((function(e){return e.boards})),c=l.boardsArr,u=l.currentBoardId,h=l.isLoading,f=l.hasError,j=l.message,Z="/boards";return(0,n.useEffect)((function(){e((0,b.DC)(Z))}),[]),(0,m.jsxs)("section",{className:"boardList__page",children:[(0,m.jsx)("div",{className:"boardList__header",children:(0,m.jsx)("h1",{className:"boardList__title",children:(0,m.jsx)(a.Z,{id:"boards"})})}),(0,m.jsx)("section",{className:"boardList__boardItems",children:h?(0,m.jsx)(S.Z,{}):c.map((function(e){return(0,m.jsx)(p,{board:e},e._id)}))}),i&&(0,m.jsx)(B,{url:Z}),d&&(0,m.jsx)(k,{url:"".concat(Z,"/").concat(u)}),t&&(0,m.jsx)(N,{url:"".concat(Z,"/").concat(u)}),(0,m.jsx)(s.Z,{open:!!j,autoHideDuration:5e3,onClose:function(){return e((0,b.PJ)(""))},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,m.jsx)(D,{onClose:function(){return e((0,b.PJ)(""))},severity:f?"error":"success",sx:{width:"100%",fontSize:"1rem"},children:j})},"bottomright")]})}},1286:function(e,r,i){var t=i(4836);r.Z=void 0;var n=t(i(5649)),o=i(184),a=(0,n.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=a}}]);
//# sourceMappingURL=725.669029c6.chunk.js.map